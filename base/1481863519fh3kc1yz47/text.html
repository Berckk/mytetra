<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Хочу посвятить публикацию одному приему, который я впервые увидел в типовой ерпи. Если честно, описание идеи довольно короткое, и слабо тянет на целую публикацию. Но я намеренно выделил ее в отдельную статью, чтобы акцентировать на ней внимание, т.к. считаю, что данная техника СУЩЕСТВЕННО повышает читаемость, а также заставляет структурировать тексты запросов.</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Если вы уже давно работаете с УТ 11 или ERP, то скорее всего не найдете для себя ничего нового в этой статье. Но есть разработчики, которые еще не успели плотно поработать с упомянутыми конфигурациями, возможно для них данная информация покажется полезной.</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">По поводу добавления комментариев в запросы уже были публикации и вопросы на форумах. Основная проблема, что при добавлении поясняющего текста - он стирается конструктором запросов. А любые способы добавления комментариев в виде дополнительных полей или условий - в основном неудобно применять.</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"><br />Для себя я нашел решение в типовых конфигурациях не так давно. Суть идеи очень простая - каждую часть запроса писать отдельной функцией.</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:14.5pt; color:#333333;">Пример 1</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапроса </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">=</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        ТекстЦеныИнициализация</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;;&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#008200; background-color:#ffffff;">// подготавливаем временные таблицы втПериодыЦен, втДисконтныеКарты, втПорогиСкидок</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстОписаниеЕжедневныйПрайсЛист</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныНаТоварыВОстатках</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#008200; background-color:#ffffff;">// использует ПрошлыеПоступления</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныДоставки</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныУслугСборки</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныТоваровПоРаспродаже</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныНаУцененныеТовары</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныНаАлкогольнуюПродукцию</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныИмпортныхТоваров</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстЦеныНаТоварыИзКомбоакций</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">()</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">+</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстИндексы</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">МВТ </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">Новый</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> МенеджерВременныхТаблиц</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">;</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">  </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">Новый</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос.УстановитьПараметр</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;ДатаПрайса&quot;</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Период</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос.УстановитьПараметр</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#000000; background-color:#ffffff;">&quot;МассивОрганизаций&quot;</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> МассивОрганизаций</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">   </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос.МенеджерВременныхТаблиц </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> МВТ</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос.Выполнить</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">();</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Код похож на оглавнение в книге. Текст сложного запроса складывается из элементарных кусочков.</span> </p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:14.5pt; color:#333333;">Пример 2</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Приведу отрывок кода, где аналогичный прием используется при проведении документов в новых типовых конфигурациях (например, ERP, УТ 11)</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; font-style:italic; color:#333333;">Модуль менеджера нашего документа</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#008200; background-color:#ffffff;">////////////////////////////////////////////////////////////////////////////</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#008200; background-color:#ffffff;">// Создадим запрос инициализации движений</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">Новый</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ЗаполнитьПараметрыИнициализации</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ДокументСсылка</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#008200; background-color:#ffffff;">////////////////////////////////////////////////////////////////////////////</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#008200; background-color:#ffffff;">// Сформируем текст запроса</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстыЗапроса </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">Новый</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> СписокЗначений</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">;</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаЗаказыПоставщикам</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаРасчетыСПоставщиками</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаДвижениеТоваров</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаТоварыКПоступлению</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаЦеныНоменклатурыПоставщиков</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаОбеспечениеЗаказов</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ТекстЗапросаТаблицаОбеспечениеЗаказовРаботами</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> Регистры</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">ПроведениеСервер.ИницализироватьТаблицыДляДвижений</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;">Запрос</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ТекстыЗапроса</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> ДополнительныеСвойства.ТаблицыДляДвижений</span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; color:#ff0000; background-color:#ffffff;">Истина);</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Установка всех параметров вынесена в отдельную процедуру. Далее идет ряд процедур, каждая из которых содержит текст запроса по заполнению одного регистра, указанного в ее названии. В конце вызывается универсальная процедура, которая выполняет сформированные тексты запросов</span> </p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Плюсы такого подхода:</span> </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#333333; background-color:#ffffff;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">понять, что происходит, можно не заглядывая в конструктор запроса</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">текст каждого кусочка можно открывать конструктором запроса</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">легко добавлять комментарии, которые не удаляются конструктором запроса</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">у каждого кусочка собственное имя, по которому можно понять, что он выполняет</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">можно именовать кусочки запроса в конструкции &quot;ОБЪЕДИНИТЬ ВСЕ&quot;</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">удобно читать, т.к. сначала мы видим имя выборки, а затем можем к ней перейти</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">количество кусочков запроса не ограничено, как в подходе со временными таблицами, когда на закладках конструктора при большом количестве временных таблиц их имена не читаются</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Минусы:</span> </p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" color:#333333; background-color:#ffffff;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">труднее поддерживать корректный состав полей между разными запросами</span> </li>
<li style=" color:#333333; background-color:#ffffff;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt;">получить полный текст запроса можно только с использованием точки останова - что не очень удобно</span> </li></ul>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">На мой взгляд, плюсы существенно перевешивают минусы, и сложные запросы действительно упрощаются.</span> </p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">  </p></body></html>