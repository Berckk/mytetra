<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Операционная система Linux изначально проектировалась как многопользовательская и безопасная система. Поэтому здесь у каждого пользователя есть пароль. Полномочия пользователей и способ их аутентификации заложен на уровне системы.</span></p>
<p align="center" style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Иногда возникает необходимость изменить пароль в linux. Во первых это может произойти если вы забыли пароль или просто хотите его поменять. Другая же причина, это безопасность. Пароли нужно менять по крайней мере несколько раз в год, и если вы системный администратор компании, важно заставить ваших пользователей тоже менять пароли время от времени и у Linux для этого тоже есть инструменты. В этой статье мы рассмотрим как поменять пароль в Linux.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="ez-toc-container"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">С</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">одержание статьи:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105410891085108610741099"><span style=" text-decoration: underline; color:#0000ff;">Основы</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105010721082_1089108410771085108010901100_108710721088108610831100_108710861083110010791086107410721090107710831103"><span style=" text-decoration: underline; color:#0000ff;">Как сменить пароль пользователя</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105010721082_1089108410771085108010901100_108710721088108610831100_1076108810911075108610751086_108710861083110010791086107410721090107710831103"><span style=" text-decoration: underline; color:#0000ff;">Как сменить пароль другого пользователя</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105010721082_10871086108410771085110310901100_108710721088108610831100_107510881091108710871099"><span style=" text-decoration: underline; color:#0000ff;">Как поменять пароль группы</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105010721082_107910721089109010721074108010901100_108710861083110010791086107410721090107710831103_10871086108410771085110310901100_108710721088108610831100"><span style=" text-decoration: underline; color:#0000ff;">Как заставить пользователя поменять пароль</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105010721082_10871086108410771085110310901100_108710721088108610831100_root"><span style=" text-decoration: underline; color:#0000ff;">Как поменять пароль root</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#105010721082_1074108810911095108510911102_10871086108410771085110310901100_108710721088108610831100"><span style=" text-decoration: underline; color:#0000ff;">Как вручную поменять пароль</span></a></li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="https://losst.ru/kak-smenit-parol-v-linux#104210991074108610761099"><span style=" text-decoration: underline; color:#0000ff;">Выводы</span></a></li></ul>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105410891085108610741099"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">О</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">сновы</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">В Linux есть несколько утилит с помощью которых может быть выполнена смена пароля linux. В этой статье мы будем рассматривать только способы с помощью терминала, с графическими способами я думаю вы и так без труда разберетесь, к тому же они не дают нужной нам гибкости.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Список пользователей в Linux хранится в файле /etc/passwd, вы можете без труда открыть его и посмотреть, их пароли выделены в отдельный файл — /etc/shadow. Этот файл можно открыть только с правами суперпользователя, и более того, пароли здесь хранятся в зашифрованном виде, поэтому узнать пароль linux не получиться, а поменять вручную их будет сложно.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">В большинстве случаев смена пароля выполняется с помощью утилиты passwd. Это очень мощная утилита, она позволяет не только менять пароль, но и управлять сроком его жизни. У нее такой синтаксис:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600; color:#99cc00;">$ passwd</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600; color:#ff9900;">опции</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600; color:#993366;">пользователь</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Рассмотрим опции, чтобы лучше ориентироваться в использовании утилиты:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-d</span> — удалить пароль пользователя, после этого он не сможет войти</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-e</span> — сделать пароль устаревшим</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-i</span> — через сколько дней после того, как пароль устарел отключить аккаунт если пользователь не сменил пароль</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-l</span> — запретить пользователю входить в систему</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-n</span> — минимальное количество дней между сменами пароля</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-S</span> — отобразить информацию об аккаунте</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-u</span> — отменяет действие параметра -l</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-x</span> — максимальное количество дней, пока пароль можно использовать.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-w</span> — количество дней, после которых нужно предупреждать пользователя, о том, что надо сменить пароль.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Возможно, сейчас все выглядит очень непонятно, но на примерах станет проще. Мы рассмотрим зачем и в каких случаях нужно использовать все эти опции, чтобы сменить пароль в Linux. Переходим к практике.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105010721082_1089108410771085108010901100_108710721088108610831100_108710861083110010791086107410721090107710831103"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">ак сменить пароль пользователя</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Вы можете сменить свой пароль когда захотите. Для этого вам не нужно особых прав суперпользователя, только знать свой текущий пароль. Просто откройте терминал и выполните утилиту password без параметров:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">passwd</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image30913.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Дальше необходимо ввести новый пароль и готово, теперь ваш пароль изменен. Он шифруется с помощью необратимого шифрования и сохраняется в файле /etc/shadow Но заметьте, что вы не можете использовать здесь любой пароль. Система Linux заботится о том, чтобы пользователи выбирали достаточно сложные пароли. Если пароль будет очень коротким или будет содержать только цифры вы не сможете его установить.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Общие требования для пароля такие: должен содержать от 6 до 8 символов, при чем один или несколько из них должны относиться как минимум к двум из таких множеств:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Буквы нижнего регистра</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Буквы верхнего регистра</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Цифры от нуля до девяти</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Знаки препинания и знак _</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Теперь рассмотрим как изменить пароль Linux для другого пользователя.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105010721082_1089108410771085108010901100_108710721088108610831100_1076108810911075108610751086_108710861083110010791086107410721090107710831103"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">ак сменить пароль другого пользователя</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Со своим паролем все понятно, но если вы захотите поменять пароль для другого пользователя, то все не так просто. Для этого вам нужны права суперпользователя. А во всем остальном все так же:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd user</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Здесь user — это пользователь, для которого нужна смена пароля Linux. Требования для пароля такие же, вы не сможете установить слишком простой пароль.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Вы можете удалить пароль Linux для пользователя, тогда он не сможет войти в систему:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd -d user</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105010721082_10871086108410771085110310901100_108710721088108610831100_107510881091108710871099"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">ак поменять пароль группы</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Наверное вы видели в своей системе файл /etc/gshadow. Этот файл эквивалентен /etc/shadow, только содержат пароли для групп. Вы не можете войти от имени группы, но зато зная ее пароль, можете получить доступ к предоставляемым ею функциям в отдельной командной оболочке с помощью команды newgrp.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Для установки пароля на группу используется утилита очень похожая на passwd — gpasswd. Естественно, нам нужны права суперпользователя. Например:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo gpasswd disk</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image27204.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Теперь попробуем получить полномочия группы:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image23274.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">После ввода пароля мы временно оказываемся в этой группе и можем работать с теми файлами, к которым разрешено доступ этой группе. Чтобы удалить пароль linux из группы используется опция -r:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo gpasswd -r disk</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105010721082_107910721089109010721074108010901100_108710861083110010791086107410721090107710831103_10871086108410771085110310901100_108710721088108610831100"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">ак заставить пользователя поменять пароль</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Безопасность сервера, это одна из самых важных вещей. Часто причиной проблем с безопасностью становятся сами пользователи, которые недостаточно часто меняют пароли или делают их слишком простыми. Если вы администратор, у вас есть возможность заставить пользователей выполнять смену пароля время от времени, а также автоматически отсылать им предупреждения о том что пора сменить пароль пользователя linux.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Все это позволяет сделать утилита passwd. Сначала давайте рассмотрим как посмотреть информацию о пароле в passwd. Для этого используется опция -S:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">passwd -S user</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image17047.png" /></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Первое поле — имя пользователя</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Второе поле показывает одно из значений: <span style=" font-weight:600;">P</span> — пароль установлен, <span style=" font-weight:600;">L</span> — пользователь заблокирован, <span style=" font-weight:600;">NP</span> — пароля нет.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">07/21/2016</span> — дата последнего изменения пароля.</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">0</span> — минимальное время до смены пароля</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">99999</span> — максимальное время действия пароля</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">7</span> — за сколько дней нужно предупреждать об истечении срока действия пароля</li>
<li style=" font-family:'MS Shell Dlg 2'; font-size:12pt;" style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">-1</span> — через сколько дней пароль нужно деактивировать.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Например через тридцать дней после смены, пароль пользователя станет устаревшим:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd -x 30 test</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image804.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">За три дня до того, как пароль устареет предупредим пользователя, что пароль нужно сменить:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd -w 3 test</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Если он этого не сделает в течении пяти дней, аккаунт нужно отключить:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd -i 3 test</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Пароль можно менять не чаще, чем раз в 10 дней:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd -n 10 test</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Смотрим теперь, что у нас получилось:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd -S test</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image11629.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Все правильно.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105010721082_10871086108410771085110310901100_108710721088108610831100_root"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">ак поменять пароль root</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Изменить пароль Linux для root очень просто, точно так же, как и для любого другого пользователя. Только нужно иметь права суперпользователя. Вот так это будет выглядеть:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo passwd root</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image12975.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Все работает. Также таким способом можно задать пароль root в Ubuntu.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a name="105010721082_1074108810911095108510911102_10871086108410771085110310901100_108710721088108610831100"></a><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">К</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">ак вручную поменять пароль</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Операционная система Linux не была бы Linux, если бы мы не имели возможность настроить пароль вручную безо всяких утилит. Как я уже говорил, пароли хранятся в файле /etc/shadow. И хранятся они там в зашифрованном виде. Расшифровать пароль невозможно.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Когда система сохраняет пароль, она выполняет шифрование по определенному алгоритму и сохраняет уже зашифрованный результат, а когда пользователю нужно войти в систему, она просто берет его пароль, опять же шифрует и сверяет с тем, что хранится в /etc/shadow. Если совпадает — пользователь авторизован.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Даже таким способом сменить пароль пользователя linux не так уж сложно. И так, сначала нам нужно получить зашифрованный пароль. Это можно сделать несколькими способами, например с помощью openssl:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">openssl passwd -1 -salt xyz yourpass</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Замените </span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">xyz</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;"> на любую случайную комбинацию символов, чем больше, тем лучше. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600;">yourpass</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">, это ваш новый пароль.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Скопируйте полученный результат в буфер обмена, затем откройте файл /etc/shadow и найдите там нужного пользователя. Я хочу сменить пароль linux для test:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">sudo vi /etc/shadow</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image32453.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Синтаксис этого файла такой:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600; color:#99cc00;">имя_пользователя:</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600; color:#ff9900;">пароль:</span><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt; font-weight:600; color:#993366;">::::</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Следующее поле указывает последнее изменение пароля в виде количества дней, прошедших с первого января 1970. Остальные поля нас не интересуют, да и вы с ними очень просто разберетесь просто сопоставив данные.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Теперь замените пароль, на полученный выше и сохраненный в буфер обмена. Сохраните файл и можете пробовать войти под новым паролем:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">su test</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image3681.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Все работает. Как я уже говорил, есть еще несколько алгоритмов шифрования, с помощью которых вы можете получить пароль, вот они:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier'; font-size:12pt;">makepasswd --clearfrom=- --crypt-md5 &lt;&lt;&lt; YourPass<br />$ mkpasswd -m sha-512 -S salt -s &lt;&lt;&lt; YourPass<br />$ perl -e 'print crypt(&quot;YourPass&quot;, &quot;salt&quot;),&quot;\n&quot;'<br />$ openssl passwd -crypt -salt XRYourPass</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:12pt;">Во всех этих примерах salt — это случайная строка для увеличения надежности шифрования, а YourPass — ваш пароль. Что делать с полученным данными вы уже знаете.</span></p></body></html>