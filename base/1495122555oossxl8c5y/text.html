<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Глава 20. Механизм временного хранилища, работа с файлами и картинками</title><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'Consolas'; font-size:12pt; font-weight:400; font-style:normal;">
<p style=" margin-top:18px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:18pt; font-weight:600; color:#000000;"><br />Глава 20. Механизм временного хранилища, работа с файлами и картинками</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">В «1С:Предприятии» существует механизм работы с временным хранилищем, обеспечивающий хранение некоторых данных, привязанных к сеансу. Кроме того, реализован механизм работы с файлами, который обеспечивает обмен файлами между информационной базой и клиентским приложением. Особенностью данного механизма является то, что он ориентирован на использование в тонком клиенте и веб-клиенте и разработан с учетом ограничений на работу с файлами, накладываемых веб-браузерами.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Механизм временного хранилища совместно с механизмом работы с файлами предоставляет набор, с помощью которого можно поместить данные, хранящиеся локально у пользователя, во временное хранилище информационной базы, перенести эту информацию из временного хранилища в базу данных и получить ее обратно на компьютер пользователя. Наиболее распространенные прикладные задачи, решаемые этими механизмами, – это хранение сопроводительной информации, например, изображений товаров, связанных с договорами документов и т. п. Механизмы временного хранилища и работы с файлами часто используются совместно, но могут использоваться и по отдельности.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:14pt; font-weight:600; color:#000000;">20.1. Временное хранилище</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000;">Временное хранилище</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> – это специализированное хранилище информации, в которое может быть помещено значение. Основное назначение – это временное хранение информации при клиент-серверном взаимодействии до ее переноса в базу данных.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Необходимость во временном хранилище возникает, например, из-за того, что в модели работы веб-браузера требуется передать выбранный пользователем файл непосредственно на сервер без возможности его хранения на клиенте. При передаче файла он помещается во временное хранилище и уже потом может быть использован при записи объекта в базу данных.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Можно использовать временное хранилище как универсальное хранилище с контролируемым временем жизни данных:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Если при помещении данных во временное хранилище была выполнена привязка данных к некоторой форме, то время жизни сохраненных данных зависит от продолжительности жизни формы, к которой привязаны данные. При удалении объекта формы временное хранилище будет очищено от всей связанной с ней информации.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Если при помещении данных во временное хранилище привязка к форме не была выполнена, то очистка временного хранилища будет выполнена в следующих случаях:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● При следующем запросе формы.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● При следующем серверном вызове из клиентского общего модуля.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● При контекстном и неконтекстном клиентских вызовах из формы.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● При серверном вызове из модуля команды. Если вызов сервера осуществляется для помещения значения во временное хранилище, то очистка не производится. Очистка производится после того, как вызов закончил свою работу.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">То есть можно поместить одно или несколько значений во временное хранилище, а в следующем вызове это значение использовать. При этом после использования и перед тем, как серверный вызов будет окончен, помещенное значение будет автоматически удалено.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Наиболее типичная прикладная задача, решаемая временным хранилищем, – обеспечение доступа к файлам или картинкам до того, как объект будет записан в информационную базу, например, в форме элемента.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Данные, помещенные в хранилище, идентифицируются уникальным адресом, который в дальнейшем можно использовать в операциях записи, чтения или удаления. Этот адрес выдают методы записи значения во временное хранилище. Отдельный метод во встроенном языке позволяет определить, является ли переданный адрес адресом, указывающим на данные во временном хранилище.</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:14pt; font-weight:600; color:#000000;">20.2. Способы работы с файлами и временным хранилищем</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">В данном разделе описаны наиболее частые варианты использования механизма работы с временным хранилищем и файлами.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.1. Сохранение данных из файла во временное хранилище</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:10pt; font-weight:600; color:#000000;">20.2.1.1. Помещение одного файла</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> помещает файл из локальной файловой системы во временное хранилище. Метод может принимать адрес во временном хранилище, по которому нужно сохранить файл. Если же адрес не определен или является пустой строкой, то будет создан новый адрес и метод вернет его через специальный параметр.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Если параметр, определяющий интерактивный режим работы, равен </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Истина</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, то метод отобразит стандартное диалоговое окно выбора файла, в котором можно выбрать файл для помещения в хранилище. В этом случае метод также вернет адрес выбранного файла.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">В качестве результата метод возвращает </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Ложь</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, если пользователь в интерактивном режиме отказался от совершения операции в диалоге выбора файла.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:10pt; font-weight:600; color:#000000;">20.2.1.2. Помещение набора файлов</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> помещает во временное хранилище несколько файлов за один вызов. Существует несколько различных способов использования этого метода:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● предварительно сформировать список добавляемых файлов, например, когда предварительно выбрал файлы, которые необходимо поместить в информационную базу;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● передать в метод маску поиска файлов, например, когда требуется поместить в информационную базу все файлы определенного вида, например, все картинки;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● передать в метод предварительно подготовленный объект </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ДиалогВыбораФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в режиме открытия файлов.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">После окончания работы метод может вернуть список реально добавленных файлов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// СписокФайлов – реквизит формы типа СписокЗначений,</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">//          содержащий список добавляемых файлов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">МассивФайлов </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Для</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">каждого</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ЭлементСписка </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Из</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> СписокФайлов </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Цикл</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  МассивФайлов</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ОписаниеПередаваемогоФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ЭлементСписка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">));</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецЦикла;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПомещенныеФайлы </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Результат </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПоместитьФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">МассивФайлов</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПомещенныеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Ложь,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> УникальныйИдентификатор</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ПРИМЕЧАНИЕ.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> Для использования метода </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в веб-клиенте требуется подключение расширения работы с файлами (см. </span><a href="https://its.1c.ru/db/content/v8doc/src/%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2020.%20%D0%BC%D0%B5%D1%85%D0%B0%D0%BD%D0%B8%D0%B7%D0%BC%20%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B0,%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8%20%D0%B8%20%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0%D0%BC%D0%B8.htm#_ref236130783"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; text-decoration: underline; color:#800080;">здесь</span></a><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">).</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.2. Помещение данных во временное хранилище</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьВоВременноеХранилище()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> схож с методом </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, за исключением того, что данные для записи во временное хранилище представляются не в виде пути в файловой системе, а в виде значения. Точно так же, если не указан существующий адрес во временном хранилище, создается новый адрес. Адрес возвращается как результат функции. Так же как и для файлов, размещенные данные обязательно принадлежат какой-либо форме и автоматически удаляются после ее удаления.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.3. Получение данных из временного хранилища</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">При записи объекта в информационную базу может понадобиться извлечь данные из временного хранилища и поместить их, например, в реквизит объекта информационной базы. Для этого существует специальный метод –</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьИзВременногоХранилища()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. Этот метод извлекает данные из временного хранилища и возвращает их в качестве результата выполнения. Для получения данных необходимо указать адрес во временном хранилище. Этот адрес возвращают методы помещения данных во временное хранилище в случае их успешного выполнения (см. предыдущие разделы).</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ВНИМАНИЕ!</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> При получении на сервере значения из временного хранилища следует учитывать то, что оно получается по ссылке. В действительности, ссылка эта указывает на значение, которое хранится в кэше. В течение 20 минут, с момента помещения в хранилище или же с момента последнего обращения, значение сохранится в кэше, а затем записывается на диск и из кэша удаляется. При следующем обращении значение загружается с диска и снова помещается в кэш.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.4. Удаление данных из временного хранилища</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">После того как данные сохранены в реквизите объекта информационной базы, данные во временном хранилище можно удалить. Для этого есть метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">УдалитьИзВременногоХранилища()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, который производит удаление. Метод принимает в параметре адрес во временном хранилище.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.5. Проверка адреса на принадлежность временному хранилищу</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Адрес может указывать как на временное хранилище, так и на реквизит в информационной базе. Для проверки его типа существует метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЭтоАдресВременногоХранилища()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Он проверяет, что переданный адрес является адресом, указывающим на хранилище. Возвращает </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Истина</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, если адрес указывает на временное хранилище.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.6. Получение адреса реквизита</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">После того как данные помещены в реквизит объекта информационной базы, может потребоваться получить доступ к ним с помощью файловых методов.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Но прежде чем получить данные, например из реквизита, необходимо получить адрес этого реквизита. Для этого существует метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьНавигационнуюСсылку()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Он может вернуть адрес значения в информационной базе по исходным параметрам. Для этого необходимо передать ключ объекта (это может быть как ссылка на объект, так и ключ записи регистра сведений) и имя реквизита. Если нужно получить адрес значения, хранимого в реквизите табличной части, то к имени реквизита в параметре, задающем имя реквизита, необходимо добавить имя табличной части и точку «</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">».</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-style:italic; color:#000000;">Например:</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff; background-color:#e6e6e6;">Товары</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Изображение</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.7. Получение файла из информационной базы</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:10pt; font-weight:600; color:#000000;">20.2.7.1. Получение одного файла</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> получает файл из информационной базы и сохраняет его в локальную файловую систему пользователя. Первый параметр определяет адрес файла в реквизите объекта информационной базы или во временном хранилище файлов. Второй параметр определяет место сохранения получаемого файла. В неинтерактивном режиме необходимо указать путь. В интерактивном режиме параметр является опциональным.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">По умолчанию метод исполняется в интерактивном режиме. Это значит, что будет сформировано диалоговое окно, в котором можно указать действие с полученным файлом: запустить его или сохранить в указанное пользователем место файловой системы. Если выбран интерактивный режим, а параметр </span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">Имя файла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> не указан, то операция открытия файла недоступна. Метод возвращает значение типа </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Булево</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Ложь</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> означает, что пользователь выбрал отмену операции в диалоговом окне сохранения файлов в интерактивном режиме.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:10pt; font-weight:600; color:#000000;">20.2.7.2. Получение набора файлов</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> позволяет получить и сохранить в локальной файловой системе пользователя несколько файлов, хранящихся в информационной базе. В качестве параметра передается список выгружаемых файлов.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// СписокФайлов – список значений, содержащий ссылки на элементы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">//      справочника, в котором расположены выгружаемые файлы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Представлением списка значений является имя выгружаемого файла</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">МассивФайлов </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Для</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">каждого</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ЭлементСписка </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Из</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> СписокФайлов </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Цикл</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Файл </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Файл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Строка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ЭлементСписка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Значение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">));</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПолучаемыйФайл </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ОписаниеПередаваемогоФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПолучаемыйФайл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Имя </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ЭлементСписка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Представление</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПолучаемыйФайл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Хранение </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолучитьНавигационнуюСсылку</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ЭлементСписка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Значение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Данные&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  МассивФайлов</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПолучаемыйФайл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецЦикла;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПолученныеФайлы </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Результат </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолучитьФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">МассивФайлов</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолученныеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПутьВыгружаемыхФайлов</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Ложь);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Если</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">НЕ</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Результат </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Тогда</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Сообщение </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> СообщениеПользователю</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Сообщение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Текст </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Ошибка получения файлов!&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Сообщение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Сообщить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">();</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецЕсли;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">После окончания работы метод может вернуть список реально выгруженных файлов с указанием полного имени каждого сохраненного файла.</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ПРИМЕЧАНИЕ.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> Для использования метода </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в веб-клиенте требуется подключение расширения работы с файлами (см. </span><a href="https://its.1c.ru/db/content/v8doc/src/%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2020.%20%D0%BC%D0%B5%D1%85%D0%B0%D0%BD%D0%B8%D0%B7%D0%BC%20%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B0,%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8%20%D0%B8%20%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0%D0%BC%D0%B8.htm#_ref236130783"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; text-decoration: underline; color:#800080;">здесь</span></a><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">В случае, если свойство </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Имя</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> объекта </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ОписаниеПередаваемогоФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> содержит абсолютный путь к файлу, файл будет сохранен по этому пути, без учета параметра </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">РасположениеФайлов</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">В качестве параметра </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">РасположениеФайлов</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> может выступать или путь в локальной файловой системе, или объект </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ДиалогВыбораФайлов</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в режиме выбора каталога или сохранения файлов. Если в качестве значения параметра </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">РасположениеФайлов</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> указан объект </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ДиалогВыбораФайлов</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в режиме сохранения файлов, то:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● диалог будет вызываться для каждого передаваемого файла, кроме тех файлов, для которых свойство </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Имя</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> объекта </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ОписаниеПередаваемогоФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> содержит абсолютный путь;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● в качестве начального имени файла в диалоге будет использоваться значение свойства </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Имя</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> объекта </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ОписаниеПередаваемогоФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● если для какого-либо файла будет выбран отказ от сохранения, то свойство </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Имя</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> объекта </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ОписаниеПереданногоФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> будет содержать пустую строку;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● метод </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> вернет значение </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Истина</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, если хотя бы один файл получен успешно;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● следует учитывать, что собственно получение файлов выполняется после того, как пользователь ответит на вопросы по указанию имени и пути всех получаемых файлов.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-style:italic; color:#000000;">Пример:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff; background-color:#e6e6e6;">ПередаваемыеФайлы </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Описание </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ОписаниеПередаваемогоФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Описание&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> АдресФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПередаваемыеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Описание</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ВыборФайла </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ДиалогВыбораФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">РежимДиалогаВыбораФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Сохранение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ВыборФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Заголовок </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Сохранение архива&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ВыборФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Расширение </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;zip&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ВыборФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Фильтр </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Архив(*.zip)|*.zip|Все файлы|*.*&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ВыборФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИндексФильтра </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">0</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПолучитьФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПередаваемыеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ВыборФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Ложь);</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Если выбран интерактивный режим выбора каталога сохранения файлов, то веб-клиент будет дополнительно запрашивать разрешение на сохранение файлов, указанных с абсолютными путями. В случае неинтерактивного сохранения (путь к каталогу указан в соответствующем параметре) запрос будет выполнен для всего списка сохраняемых файлов.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.8. Пример использования файловых методов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Получение в интерактивном режиме файла с диска</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// и помещение его во временное хранилище.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#a52a2a;">&amp;НаКлиенте</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Процедура</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ВыбратьФайлСДискаИЗаписать</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Перем</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ВыбранноеИмя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Перем</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> АдресВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  НовыйОбъект </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Ссылка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Пустая</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Если</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПоместитьФайл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">АдресВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ВыбранноеИмя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Истина)</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Тогда</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">    Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяФайла </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ВыбранноеИмя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">    ПоместитьФайлОбъекта</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">АдресВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецЕсли;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецПроцедуры</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Копирование файла из временного хранилища в реквизит</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// справочника, запись объекта, удаление файла из временного</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// хранилища.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#a52a2a;">&amp;НаСервере</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Процедура</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПоместитьФайлОбъекта</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">АдресВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ЭлементСправочника </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> РеквизитФормыВЗначение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Объект&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ДвоичныеДанные </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолучитьИзВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">АдресВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ЭлементСправочника</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ДанныеФайла </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ХранилищеЗначения</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ДвоичныеДанные</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> СжатиеДанных</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">());</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Файл </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Файл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ЭлементСправочника</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ЭлементСправочника</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяФайла </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Файл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Имя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ЭлементСправочника</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Записать</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">();</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Модифицированность </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Ложь;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  УдалитьИзВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">АдресВременногоХранилища</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ЗначениеВРеквизитФормы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ЭлементСправочника</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Объект&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецПроцедуры</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Считывание файла из реквизита и сохранение его</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// на локальном диске в интерактивном режиме.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#a52a2a;">&amp;НаКлиенте</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Процедура</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПрочитатьФайлИСохранитьНаДиск</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">()</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Адрес </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолучитьНавигационнуюСсылку</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Ссылка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;ДанныеФайла&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПолучитьФайл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Адрес</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Истина);</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецПроцедуры</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.9. Разрешение на выполнение группы операций с файлами</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">При выполнении некоторых операций в веб-клиенте может потребоваться получить разрешение на несколько операций по работе с файлами. Например, необходимо выполнить получение документа из информационной базы и затем открыть сохраненный документ с помощью ассоциированного приложения.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Для выполнения этой операции потребуется отвечать на вопрос о сохранении документа и на вопрос о необходимости запуска. Если операций будет больше, вопросов пользователю также станет больше.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Для уменьшения количества вопросов можно воспользоваться методом </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапроситьРазрешениеПользователя()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. При использовании этого метода пользователю отображается список всех операций, которые планируется выполнить, и предлагается разрешить выполнение группы операций. Если пользователь разрешил выполнение, то запрошенные операции будут выполняться без дополнительных запросов пользователю. Если разрешение не предоставлено, операции будут выполняться в обычном режиме: один запрос на одну операцию.</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ПРИМЕЧАНИЕ.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> Для использования метода </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапроситьРазрешениеПользователя()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в веб-клиенте требуется подключить расширение работы с файлами (см. </span><a href="https://its.1c.ru/db/content/v8doc/src/%D0%B4%D0%BE%D0%BA%D1%83%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0/%D0%B3%D0%BB%D0%B0%D0%B2%D0%B0%2020.%20%D0%BC%D0%B5%D1%85%D0%B0%D0%BD%D0%B8%D0%B7%D0%BC%20%D0%B2%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D0%BE%D0%B3%D0%BE%20%D1%85%D1%80%D0%B0%D0%BD%D0%B8%D0%BB%D0%B8%D1%89%D0%B0,%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D1%84%D0%B0%D0%B9%D0%BB%D0%B0%D0%BC%D0%B8%20%D0%B8%20%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D0%BA%D0%B0%D0%BC%D0%B8.htm#_ref236130783"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; text-decoration: underline; color:#800080;">здесь</span></a><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Рассмотрим пример использования метода:</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Если</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПодключитьРасширениеРаботыСФайлами</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">()</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Тогда</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Ссылка </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолучитьНавигационнуюСсылку</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Ссылка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;ДанныеФайла&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Формирование описания передаваемых файлов (в данном случае файл один)</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПередаваемыеФайлы </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Описание </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ОписаниеПередаваемогоФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Ссылка</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПередаваемыеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Описание</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Готовим объект для получения информации о полученных файлах</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПереданныеФайлы </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Определяем прочие параметры методов</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  КаталогСохранения </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;c:\temp&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Интерактивно </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Ложь;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ИмяПереданногоФайла </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> КаталогСохранения </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">+</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;\&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">+</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Готовим описание методов для получения разрешений</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">0</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;ПолучитьФайлы&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">0</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПередаваемыеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">0</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПереданныеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">0</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">КаталогСохранения</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">0</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Интерактивно</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(Новый</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Массив</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">1</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;ЗапуститьПриложение&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">[</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">1</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">].</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Добавить</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяПереданногоФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Если</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Не</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ЗапроситьРазрешениеПользователя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Методы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">)</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Тогда</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">    Предупреждение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Пользователь отказал в разрешении.&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">    </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Возврат;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецЕсли;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ПолучитьФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПередаваемыеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПереданныеФайлы</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> КаталогСохранения</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Интерактивно</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  ЗапуститьПриложение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ИмяПереданногоФайла</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Иначе</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  Предупреждение</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;Выполнение не поддерживается. Не установлено расширение работы с файлами.&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">КонецЕсли;</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Следует отметить несколько особенностей применения метода </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапроситьРазрешениеПользователя()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Разрешение запрашивается только для следующих методов:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">НайтиФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапуститьПриложение()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">КопироватьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПереместитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">УдалитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Разрешение запрашивается для конкретного набора параметров метода. Если при реальном исполнении метода работы с файлами значения параметров будут отличаться от тех, для которых получено разрешение, это разрешение не будет действовать и пользователь получит отдельный запрос на подтверждение выполнения операции.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Если необходимо выполнить две (или более) одинаковые операции с файлами (даже с одинаковым набором параметров), следует указать соответствующее количество элементов в массиве параметров метода </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапроситьРазрешениеПользователя()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. Например, если необходимо дважды получить из информационной базы один и тот же файл и поместить его в фиксированное место файловой системы, следует запросить разрешение на две операции.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Если запрашивается разрешение на операцию, при выполнении которой выполняется интерактивная операция (например, функции </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> в качестве параметра передается объект </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ДиалогВыбораФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">), то такая операция исключается из запроса.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Полученные разрешения сохраняются либо до выполнения разрешенного вызова, либо до окончания исполнения встроенного языка.</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ПРИМЕЧАНИЕ.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> В толстом и тонком клиентах </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапроситьРазрешениеПользователя() </span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">метод всегда возвращает значение </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Истина</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">, без взаимодействия с пользователем.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.10. Работа с временным хранилищем в фоновом задании</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">В механизме работы с временным хранилищем есть возможность передать данные из фонового задания в сеанс, инициировавший фоновое задание. Для этого в родительском сеансе нужно поместить пустое значение во временное хранилище с помощью метода </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьВоВременноеХранилище()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. Полученный в результате адрес нужно передать через параметры фонового задания в процедуру. Если в фоновом задании методу </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьВоВременноеХранилище()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> передать полученный адрес, то значение будет скопировано в родительский сеанс с этим же адресом.</span></p>
<p style=" margin-top:14px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-weight:600; color:#000000;">20.2.11. Поддержка адресов в поле картинки</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Элемент формы </span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">Поле</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> вида </span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">Поле картинки</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> поддерживает отображение картинки, заданной адресом значения (которое может быть картинкой или двоичными данными) во временном хранилище или в базе данных.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Для этого в свойстве </span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">Данные</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> элемента формы необходимо задать реквизит строкового типа. Значение этого реквизита и будет интерпретироваться как адрес картинки.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><img src="image16151.png" /></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:9pt; font-weight:600; color:#000000;">Рис. 262. Отображение картинки на форме</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Пример 1</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Привязка поля картинки к адресу картинки во временном</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// хранилище. АдресКартинки – реквизит формы строкового типа</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ПоместитьФайл</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">АдресКартинки</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ИсходноеИмя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ВыбранноеИмя</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Истина,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> УникальныйИдентификатор</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Пример 2</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// Получение адреса картинки из реквизита объекта</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#008000;">// информационной базы</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ФайлКартинки </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> Объект</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ФайлКартинки</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Если</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Не</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ФайлКартинки</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">.</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">Пустая</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">()</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Тогда</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  АдресКартинки </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> ПолучитьНавигационнуюСсылку</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">(</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">ФайлКартинки</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">,</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;ДанныеФайла&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">);</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Иначе</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;">  АдресКартинки </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">=</span><span style=" font-family:'Courier New'; font-size:10pt; color:#0000ff;"> </span><span style=" font-family:'Courier New'; font-size:10pt; color:#000000;">&quot;&quot;</span><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">;</span></p>
<p style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#e6e6e6;"><span style=" font-family:'Courier New'; font-size:10pt; color:#ff0000;">Конецесли;</span></p>
<p style=" margin-top:16px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Arial'; font-size:14pt; font-weight:600; color:#000000;">20.3. Особенности использования в веб-клиенте</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Работа описываемого механизма при использовании веб-клиента имеет некоторые ограничения, которые связаны с особенностями модели безопасности веб-браузера. Так, например, клиент самостоятельно не может сохранить файл в локальную файловую систему, то есть доступен только интерактивный вариант клиентских методов </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> и </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. При попытке использовать неинтерактивный режим генерируется исключение. Диалоговые окна, отображаемые в интерактивном режиме, специфичны для конкретного типа веб-браузера.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Однако при необходимости можно расширить возможности работы с файлами в веб-клиенте. Для этого следует использовать расширение работы с файлами. После подключения расширения в веб-клиенте становятся доступны следующие объекты и методы работы с файлами:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Методы:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПолучитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПоместитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">НайтиФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ЗапуститьПриложение()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">СоздатьКаталог()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">КопироватьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПереместитьФайл()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">УдалитьФайлы()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Объекты:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">Файл</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">,</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ДиалогВыбораФайла</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ПРИМЕЧАНИЕ 1.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> Для корректной работы расширения работы с файлами в веб-браузере Microsoft Internet Explorer рекомендуется использование библиотеки Microsoft Core XML Services (MSXML) версий 4.0 или 6.0.</span></p>
<p style=" margin-top:6px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; font-weight:600; color:#000000; text-transform:uppercase;">ПРИМЕЧАНИЕ 2.</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;"> Расширение работы с файлами для веб-браузера Microsoft Internet Explorer устанавливается в каталог </span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">%APPDATA%\1C</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">\1С</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">EWebExt</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">\</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#0070c0;">FileSystemExtIE</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">Перед использованием компоненты следует выполнить следующие действия:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Соответствующим образом настроить веб-браузер (подробнее см. книгу «1С:Предприятие 8.2. Руководство администратора»).</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Установить расширение работы с файлами. Для этого следует воспользоваться методом глобального контекста </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">УстановитьРасширениеРаботыСФайлами()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">. Это интерактивное действие, которое необходимо выполнить один раз для каждого пользователя локального компьютера, использующего расширение.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:20px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">● Подключить расширение работы с файлами. Для этого следует воспользоваться методом </span><span style=" font-family:'Courier New'; font-size:10pt; color:#ac3333;">ПодключитьРасширениеРаботыСФайлами()</span><span style=" font-family:'Verdana,Tahoma,Arial'; font-size:10pt; color:#000000;">.</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Times New Roman'; font-size:8.25pt; color:#000000;"><br /></span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:'Times New Roman'; font-size:8.25pt; color:#000000;"><br /></p></body></html>