<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:11pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; font-weight:600; color:#333333;">Предлагаю несколько каркасов для создания новых объектов в типовых конфигурациях. Это выжимка из кода нескольких конфигураций, которая позволит быстро и красиво создавать и дорабатывать объекты метаданных с соблюдением идеологии исходной системы</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:10pt; color:#333333;">1. Шаблон областей для модулей объектов, менеджеров, форм</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Как многие знают, в типовых конфигурациях код модулей разделен на секции. Это помогает проще ориентироваться в коде. Я проанализировал различные объекты типовых конфигураций и создал заготовки для : <br />    модуля формы<br />    модуля объекта<br />    модуля менеджера объекта<br />    общего модуля <br />Замечание: конструкция </span><span style=" font-family:'Consolas'; font-size:10pt; color:#c7254e; background-color:#faebd7;">#Область ИмяОбласти</span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> доступна под платформой 8.3, начиная с режима совместимости 8.2</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль формы</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ОбработчикиСобытийФормы</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ОбработчикиСобытийЭлементовШапкиФормы</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ОбработчикиСобытийЭлементовТаблицыФормы_ИмяТаблицы</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ОбработчикиКомандФормы</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область СлужебныеПроцедурыИФункции</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль объекта</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ПрограммныйИнтерфейс</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ОбработчикиСобытий</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область СлужебныеПроцедурыИФункции</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецЕсли</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль менеджера</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область ПрограммныйИнтерфейс</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область СлужебныйПрограммныйИнтерфейс</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#Область СлужебныеПроцедурыИФункции</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецОбласти</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">#КонецЕсли</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Общий модуль</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:10pt; color:#333333;">2. Шаблон проведения</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Данная схема проверена на практике множество раз. Она понятная и расширяемая. Применяется практически для всех типовых документов. </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">В модуле объекта заполняем два обработчика</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль объекта документа</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">В модуле менеджера выполняем заполнение движений следующим образом</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль менеджера документа</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Хочу отметить, что в приведенной схеме сначала табличная часть считывается во временную таблицу, а затем при заполнении движений используется уже эта временная таблица. С одной стороны это исключает повторные обращения к постоянной таблице БД, с другой стороны предоставляет дополнительные удобства (например, можно добавить служебные поля, которые потом использовать). <br />Кроме того, такая схема хорошо подходит при использовании автоматизированного тестирования (TDD).</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:10pt; color:#333333;">3. Шаблон управляемой формы документа, в котором перед проведением требуется задавать вопросы пользователю с запретом модальных вызовов</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">В типовой конфигурации у формы такого документа есть два служебных реквизита: </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image8581.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Также добавляется служебная команда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image20368.png" /><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"><br />В </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль формы документа (команды)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Обработчики ПередЗаписью() и ПослеЗаписи() выглядит примерно так:</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль формы документа (обработчики событий)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПередЗаписью</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Отказ</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Если</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> НеВыполнятьПроверкуПередЗаписью </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Тогда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               НеВыполнятьПроверкуПередЗаписью </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Ложь;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Возврат;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецЕсли;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Если</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи.РежимЗаписи </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> РежимЗаписиДокумента.Проведение </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Тогда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               Отказ </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Истина;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               ЗадатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">1</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецЕсли;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПослеЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        ОбщегоНазначения.ВыполнитьДействияПослеЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ЭтаФорма</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> Объект</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПередЗакрытием</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Отказ</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> СтандартнаяОбработка</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        ПринудительноЗакрытьФорму </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Истина;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Кроме того, добавляется  служебная процедура Подключаемый_ЗакрытьФорму(), т.к. закрытие формы в типовых выполняется через обработчик ожидания, который выставляется после записи.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;"> </span><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; text-decoration: underline; color:#0000ff;">Модуль формы документа</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> Подключаемый_ЗакрытьФорму</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">()</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        Закрыть</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">();</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Дальше пишем наш код с проверками. Не забываем обработчики завершения делать экспортными. Я проверки написал так:</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#f9f2f4;"> </span><span style=" font-family:'Consolas'; font-size:10pt; text-decoration: underline; color:#0000ff; background-color:#f9f2f4;">Модуль формы документа</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ЗадатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">1</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        Оповещение </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Новый</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ОписаниеОповещения</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">&quot;ЗадатьВопрос1Завершение&quot;</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ЭтаФорма</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        ТекстВопроса </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">&quot;Какой-то вопрос 1 ?&quot;</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        ПоказатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Оповещение</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ТекстВопроса</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> РежимДиалогаВопрос.ДаНет</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ЗадатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">1</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Завершение</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Результат</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Экспорт</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Если</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> Результат </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> КодВозвратаДиалога.Да </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Тогда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               ЗадатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">2</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецЕсли;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ЗадатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">2</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        Оповещение </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Новый</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ОписаниеОповещения</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">&quot;ЗадатьВопрос2Завершение&quot;</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ЭтаФорма</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        ТекстВопроса </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">&quot;Какой-то вопрос 2 ?&quot;</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        ПоказатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Оповещение</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ТекстВопроса</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> РежимДиалогаВопрос.ДаНет</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ЗадатьВопрос</span><span style=" font-family:'Consolas'; font-size:10pt; color:#000000; background-color:#ffffff;">2</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Завершение</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">Результат</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Экспорт</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Если</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> Результат </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> КодВозвратаДиалога.Да </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Тогда</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">               ПередЗаписьюЗавершение</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецЕсли;</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> </span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#963200; background-color:#ffffff;">&amp;НаКлиенте</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">Процедура</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПередЗаписьюЗавершение</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">)</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        Результат </span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">=</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ОбщегоНазначения.ОбработатьЗаписьОбъектаВФорме</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">(</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">ЭтаФорма</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">,</span><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;"> ПараметрыЗаписи</span><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">);</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#0000ff; background-color:#ffffff;">        </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Consolas'; font-size:10pt; color:#ff0000; background-color:#ffffff;">КонецПроцедуры</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image31067.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Хочу обратить внимание, что процедура ПередЗаписью() на клиенте вызывается два раза. Причем первый раз в ней выставляется Отказ=Истина, и вызывается первая процедура из цепочки вопросов. Если пройдены все необходимые проверки, то ПередЗаписью() вызывается второй раз программно, при этом начинается запись. Все обработчики записи/проведения из модуля объекта и модуля формы вызываются только после второго попадания в процедуру ПередЗаписью()</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:10pt; color:#333333;">Файлы к статье</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Шаблон 1</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image13537.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Шаблон 2<br />Пустая конфигурация, которая выполняет единственное действие - проведение некоторого документа по описанной схеме.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image6536.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Шаблон 3<br />Пустая конфигурация, которая только выполняет только одно действие - провести и закрыть.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><img src="image8217.png" /><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'inherit,serif'; font-size:10pt; color:#333333;">Зачем я написал эту статью?</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; background-color:#ffffff;"><span style=" font-family:'Verdana,sans-serif'; font-size:10pt; color:#333333;">Возможно, кому-нибудь после прочтения данной публикации придет мысль, что у меня нет собственных идей, и поэтому я пересказываю мысли из типовых конфигураций. НО это не соответствует действительности. На практике я часто сталкиваюсь с ситуацией, что многие разработчики при доработке типовых конфигураций не соблюдают идеологию, заложенную в этих конфигурациях изначально, и придумывают свои способы реализации стандартных действий (например, проведение). При этом зачастую сложность задачи оценивается оптимистично, без учета того, что код будет усложняться при тестировании, демонстрации заказчику, появлении неучтенных моментов и т.д. Это происходит потому, что “вытащить” некоторый механизм из типовой иногда бывает затратно по времени, т.к. там много всего лишнего, связанного со спецификой объекта. Поэтому разработчик понимает, что ему проще придумать свой, пусть неоптимальный механизм, чтобы уложиться в отведенное для задачи время. Из-за этого возникают проблемы на следующих стадиях. Лично мне не очень нравится дорабатывать такие велосипеды. Надеюсь, что после прочтения этой статьи, использовать описанные механизмы будет проще.</span><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'MS Shell Dlg 2'; font-size:10pt;">  </span></p></body></html>